---
title: "R Notebook"
output: html_notebook
---

```{r}
library(tidyverse)
library(janitor)
library(here)
```
```{r}
items_df <- read_csv(here("data/20190928-items.csv"))
```
```{r}
names(items_df)
glimpse(items_df)
```
```{r}
#cleaning names which aren't too bad, some column values look messy
items <- clean_names(items_df)

glimpse(items)

```
```{r}
items %>% 
count(brand) %>% 
arrange(desc(n))
```
filter (brand == "Samsung")
```{r}
#filtering for top brand and the continuous variable of rating which needs to be binned for this analysis
top_brand <- items %>% 
  filter (brand == "Samsung")

top_brand %>% 
  ggplot(aes(x = rating)) + 
  geom_histogram(aes(y = ..density..), col = "white", bins = 25) +
  stat_function(
    fun = dnorm, #is our data normally distributed?
    args = list(
      mean = mean(top_brand$rating),
      sd = sd(top_brand$rating)
    ),
    col = "red"
  )

#mean(top_brand$rating)
#sd(top_brand$rating)
```
# counting for 3 sigma values (68%,95%,98.7%)
ratings scaled


  
```{r}
ratings_scaled <- top_item %>% 
  filter(top_item$rating) %>% 
  mutate(z_rating = scale(rating))
```
  
sd1
count <-  %>% 
  filter(between(z_rating, left = -1, right = 1)) %>% 
  nrow()

count / nrow(rating_scaled)

sd2

sd3
